{% extends 'base.html.twig' %}

{% block title %}Cesta{% endblock %}
{% block body %}
<div class="container" style="margin-top: 50px;border-radius: 8px;border: 1px solid #dedede;margin-left: auto;padding:0">
    <div class="card">
        <h1>CESTA</h1>
        {% if items | length > 0 %}
            <table class="table">
                <thead>
                    <tr>
                        <th>Marca</th>
                        <th>Modelo</th>
                        <th>Cantidad</th>
                        <th>Precio</th>
                        <th>Total</th>
                        <th> </th>
                    </tr>
                </thead>
                <tbody>
                {% for item in items %}
                    <tr>
                        <td>{{ item.product.brand }}</td>
                        <td>{{ item.product.model }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.product.price }}€</td>
                        <td>{{ item.product.price * item.quantity }}€</td>
                        <td>
                            <a href="{{ path('cart_delete', {id : item.product.id}) }}" class="btn btn-danger btn-sm">
                                <i class="fas fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <th><a class="btn btn-danger btn-sm" href="{{ path('cart_delete_all') }}">Vaciar carrito</a></th>
                        <th colspan="3" class="text-right">Total: </th>
                        <th>{{ total }}€</th>
                        <th><a class="btn btn-success btn-sm"  href="{{ path('cart_checkout')}}">Pagar</a></th>
                    </tr>
                </tfoot>

            </table>
        {% else %}
        <h5>Vacio - Añade cosas a la cesta</h5>
        {% endif %}

    </div>
</div>
{% endblock %}